<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>js basic</title>
    <script>
        function showObject(){
            let person = {name:'hong', email:"hongildong@naver.com",age:30 };
            //   객체 전체 조회
            console.log(person);
            //   객체 특정요소 조회 방법1 : person.name (java의 경우에는 get을 통해 막아놓음)
            console.log(person.name)
            console.log(person.email)
            console.log(person.age)
            person.name = 'kim'; // 객체 요소 변경

            //  객체 특정 요소 조회회방법 2: person['name']
            console.log(person['name']);
            console.log(person['email']);
            console.log(person['age']);

            //   Object.keys(객체명) : 객체의 키를 배열 형태로 반환
            const keyArr = Object.keys(person);     //      업무 중에 많이 쓴다다
            for(let i= 0; i<keyArr.length;i++){
                console.log(person[keyArr[i]])
            }
            keyArr.forEach(k=>console.log(person[k]))
        }
        function makeObject(){
            //      방법1. 리터럴 방식으로 세팅
            let person = {name:'hong', email:"hongildong@naver.com",age:30 };
            //      방법2. 동적으로 키와 값을 추가
            let person2 ={};
            person2.name="kim";
            person2.email="abc@naver.com";
            person2.password='1234';
            person2['age'] = 30;
            console.log(person2);
            
            //      단축 속성명 방식 : key값과 value 값이 동일하게 사용될 때 간편하게 객체 생성하는 방식식
            const name = 'lee';
            const age = 30;
            const person3={name,age};
            console.log(person3)

            const obj1 ={ key1:'value1'};
            const obj2 ={obj1}; //  {obj1:{key1:'value1'}}
            console.log(obj2);

            //      스프레드 문법: ...키워드를 통해 obj3 객체의의 요소를 obj4에서 사용.
            const obj3 = {a:1, b:2};

            const obj4 = {...obj3, c:3}; // {a:1, b:2, c:3}

        }
        function makeArr(){
            let fruits =['사과','바나나','오렌지'];
            //      배열 요소 추가: push
            fruits.push('포도');
            console.log(fruits);
            //      배열요소의 마지막 요소 꺼내기: pop();
            console.log(fruits.pop());
            console.log(fruits);
            //      배열의 접근: 배열명[index]
            console.log(fruits[0]);
            //      배열 요소의 수정
            fruits[0]='망고';
            console.log(fruits);

            for(let i=0; i<fruits.length;i++){
                console.log(fruits[i]);
            }
            //      foreach문(향상된 for문)
            for(const f of fruits){  //     const 대신에 let으로 사용 가능. const가 기본적인 약속
                console.log(f);
            }
            // 함수형프로그래밍 foreach
            fruits.forEach(f=>console.log(f));
            fruits.forEach((a,b)=>console.log("a : " +a+"  b : "+b));

            // filter
            const nums = [1,2,3,4,5,6];
            const newNums = nums.filter(a=>a%2==0);
            console.log(newNums);

            //map
            const newNums2 = nums.map(a=>a*a);
            console.log(newNums2);

            //스프레드 문법 (7,8,9 더하기기)
            const newNums3 = [...nums, 7,8,9];
            console.log(newNums3);


        }
        function makeObjectArr(){
            const arr = [{name:"hong1", age: 31},{name:"hong2", age: 28},{name:"hong1", age: 96}];
            const newArr1 = arr.filter(a=>a.age>30);

            console.log(newArr1)

            // // for문을 통한 배열 내의 객체 요소 원본 변경
            // for(let i=0; i<arr.length;i++){
            //     arr[i].email="test@naver.com"
            // }

            //  
            const newArr2 = arr.map(a=>{return {...a, email:"test@naver.com"};})
            console.log( newArr2);



        }
        function convertType(){
            let numStr = "10";
            let str = "hello";
            let num1 = Number(numStr);
            
            console.log(typeof num1);
            num1= String(num1);
            console.log(typeof num1);
            //      NaN(Not a Number) 이 담김(에러는 아님.)
            let num2 = Number(str);
            
            console.log("hello world")
                        
            //      ==과 ===(타입까지 체크)의 차이
            console.log(10=='10') // true;
            console.log(10==='10') // false;

            let var1;   // undefined
            let var2= null;     //null
            console.log(var1==var2);    //true
            console.log(var1===var2);    //false

        }
        

    </script>
</head>
<body>
    <h2>js 객체</h2>
    <button onclick="showObject()">객체 조회</button>
    <button onclick="makeObject()">객체 생성</button>
    <button onclick="makeArr()">배열 생성</button>
    <button onclick="makeObjectArr()">배열 생성</button>
    <button onclick="convertType()">형변환</button>
</body>
</html>